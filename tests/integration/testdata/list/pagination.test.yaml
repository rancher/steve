schemaID: secret
tests:
- description: user:user-a,namespace:none,query:limit=8
  user: user-a
  namespace: ''
  query: limit=8
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
  - name: test3
    namespace: test-ns-1
  - name: test4
    namespace: test-ns-1
  - name: test5
    namespace: test-ns-1
  - name: test1
    namespace: test-ns-2
  - name: test2
    namespace: test-ns-2
  - name: test3
    namespace: test-ns-2
- description: user:user-a,namespace:none,query:limit=8&continue=nondeterministictoken
  user: user-a
  namespace: ''
  query: limit=8&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test4
    namespace: test-ns-2
  - name: test5
    namespace: test-ns-2
  - name: test1
    namespace: test-ns-3
  - name: test2
    namespace: test-ns-3
  - name: test3
    namespace: test-ns-3
  - name: test4
    namespace: test-ns-3
  - name: test5
    namespace: test-ns-3
  - name: test1
    namespace: test-ns-4
- description: user:user-a,namespace:test-ns-1,query:limit=3
  user: user-a
  namespace: test-ns-1
  query: limit=3
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
  - name: test3
    namespace: test-ns-1
- description: user:user-a,namespace:test-ns-1,query:limit=3&continue=nondeterministictoken
  user: user-a
  namespace: test-ns-1
  query: limit=3&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test4
    namespace: test-ns-1
  - name: test5
    namespace: test-ns-1
- description: user:user-a,namespace:none,query:filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&limit=20
  user: user-a
  namespace: ''
  query: filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&limit=20
  nonSQLOnly: true
  expect:
  - name: test5
  - name: test5
  - name: test5
  - name: test5
  - name: test4
  - name: test4
- description: user:user-a,namespace:none,query:filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&page=2&revision=nondeterministicint&limit=20
  user: user-a
  namespace: ''
  query: filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&page=2&revision=nondeterministicint&limit=20
  nonSQLOnly: true
  expect:
  - name: test4
  - name: test4
  - name: test3
  - name: test3
  - name: test3
  - name: test3
- description: user:user-a,namespace:none,query:filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&page=1&limit=20&continue=nondeterministictoken
  user: user-a
  namespace: ''
  query: filter=metadata.labels.test-label-gte=3&sort=-metadata.name&pagesize=6&page=1&limit=20&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test5
    namespace: test-ns-5
  - name: test4
    namespace: test-ns-5
  - name: test3
    namespace: test-ns-5
- description: user:user-b,namespace:none,query:limit=3
  user: user-b
  namespace: ''
  query: limit=3
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
  - name: test3
    namespace: test-ns-1
- description: user:user-b,namespace:none,query:limit=3&continue=nondeterministictoken
  user: user-b
  namespace: ''
  query: limit=3&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test4
    namespace: test-ns-1
  - name: test5
    namespace: test-ns-1
- description: user:user-b,namespace:test-ns-1,query:limit=3
  user: user-b
  namespace: test-ns-1
  query: limit=3
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
  - name: test3
    namespace: test-ns-1
- description: user:user-b,namespace:test-ns-1,query:limit=3&continue=nondeterministictoken
  user: user-b
  namespace: test-ns-1
  query: limit=3&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test4
    namespace: test-ns-1
  - name: test5
    namespace: test-ns-1
- description: user:user-b,namespace:test-ns-5,query:limit=3
  user: user-b
  namespace: test-ns-5
  query: limit=3
  nonSQLOnly: true
  expect: []
- description: user:user-c,namespace:none,query:limit=3
  user: user-c
  namespace: ''
  query: limit=3
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
  - name: test1
    namespace: test-ns-2
- description: user:user-c,namespace:none,query:limit=3&continue=nondeterministictoken
  user: user-c
  namespace: ''
  query: limit=3&continue=nondeterministictoken
  nonSQLOnly: true
  expect:
  - name: test2
    namespace: test-ns-2
  - name: test1
    namespace: test-ns-3
  - name: test2
    namespace: test-ns-3
- description: user:user-c,namespace:test-ns-1,query:limit=3
  user: user-c
  namespace: test-ns-1
  query: limit=3
  nonSQLOnly: true
  expect:
  - name: test1
    namespace: test-ns-1
  - name: test2
    namespace: test-ns-1
- description: user:user-c,namespace:test-ns-5,query:limit=3
  user: user-c
  namespace: test-ns-5
  query: limit=3
  nonSQLOnly: true
  expect: []
