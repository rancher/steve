tests:
- schemaID: columns.cattle.io.clusternocolumns
  expected:
  - [foo, $timestamp]
- schemaID: columns.cattle.io.clustersomecolumns
  expected:
  - [bar, foo]
- schemaID: columns.cattle.io.namespacedsomecolumns
  expected:
  - [bar, foo, $skip, $timestamp]
- schemaID: timestamps.cattle.io.dates
  expected:
  - [the-date, $skip, $skip, $timestamp, $skip, $timestamp, $skip, $timestamp]
- schemaID: events
  query: filter=metadata.name=event-1
  expected:
  - [$duration, Normal, "CustomReason", "namespacedsomecolumn/bar", "", "", "This is a custom event message for my-pod-name.", $duration, $skip, "event-1"]
# the Create At field for CRD is a type=date but k8s gives us the timestamp, not the duration
# See https://github.com/rancher/rancher/issues/50687.
- schemaID: apiextensions.k8s.io.customresourcedefinitions
  query: filter=metadata.name=namespacedsomecolumns.columns.cattle.io
  expected:
  - [namespacedsomecolumns.columns.cattle.io, $timestamp]
- schemaID: configmaps
  query: filter=metadata.name=foo&filter=metadata.namespace=default
  expected:
  - [foo, $skip, $duration]
- schemaID: apps.deployments
  query: filter=metadata.name=coredns&filter=metadata.namespace=kube-system
  expected:
  - [coredns, 1/1, $skip, $skip, $duration, coredns, $skip, k8s-app=kube-dns]
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clusternocolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: ClusterNoColumn
    listKind: ClusterNoColumnList
    plural: clusternocolumns
    singular: clusternocolumn
  scope: Cluster
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: ClusterNoColumn
metadata:
  name: foo
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clustersomecolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: ClusterSomeColumn
    listKind: ClusterSomeColumnList
    plural: clustersomecolumns
    singular: clustersomecolumn
  scope: Cluster
  versions:
  - name: v1
    additionalPrinterColumns:
    - jsonPath: .foo
      name: Foo
      type: string
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: ClusterSomeColumn
metadata:
  name: bar
foo: foo
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: namespacedsomecolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: NamespacedSomeColumn
    listKind: NamespacedSomeColumnList
    plural: namespacedsomecolumns
    singular: namespacedsomecolumn
  scope: Namespaced
  versions:
  - name: v1
    additionalPrinterColumns:
    - jsonPath: .foo
      name: Foo
      type: string
    - jsonPath: .date
      name: Date
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
          date:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: NamespacedSomeColumn
metadata:
  name: bar
  namespace: "default"
foo: foo
date: "2025-11-20T13:30:18Z"
---
apiVersion: v1
kind: Event
metadata:
  name: event-1
  namespace: default
involvedObject:
  apiVersion: v1
  kind: NamespacedSomeColumn
  name: bar
reason: CustomReason
message: This is a custom event message for my-pod-name.
type: Normal
lastTimestamp: "2025-11-26T13:57:53Z"
firstTimestamp: "2025-10-26T13:57:53Z"
---
apiVersion: timestamps.cattle.io/v1
kind: Date
metadata:
  name: the-date
date: "2024-01-20T13:30:18Z"
conditions:
  - type: NotSelected
    lastUpdateTime: "2020-01-01T00:00:00Z"
  - type: Selected
    lastUpdateTime: "2025-01-01T00:00:00Z"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: foo
  namespace: default
