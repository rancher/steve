tests:
- schemaID: columns.cattle.io.clusternocolumns
  expected:
  - [foo, $timestamp]
- schemaID: columns.cattle.io.clustersomecolumns
  expected:
  - [bar, foo]
# FIXME: Disabled test because columns bug. See https://github.com/rancher/rancher/issues/52774.
# - schemaID: columns.cattle.io.namespacedsomecolumns
#   expected:
#   - [foo, $timestamp, $timestamp]
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clusternocolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: ClusterNoColumn
    listKind: ClusterNoColumnList
    plural: clusternocolumns
    singular: clusternocolumn
  scope: Cluster
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: ClusterNoColumn
metadata:
  name: foo
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clustersomecolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: ClusterSomeColumn
    listKind: ClusterSomeColumnList
    plural: clustersomecolumns
    singular: clustersomecolumn
  scope: Cluster
  versions:
  - name: v1
    additionalPrinterColumns:
    - jsonPath: .foo
      name: Foo
      type: string
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: ClusterSomeColumn
metadata:
  name: bar
foo: foo
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: namespacedsomecolumns.columns.cattle.io
spec:
  group: columns.cattle.io
  names:
    kind: NamespacedSomeColumn
    listKind: NamespacedSomeColumnList
    plural: namespacedsomecolumns
    singular: namespacedsomecolumn
  scope: Namespaced
  versions:
  - name: v1
    additionalPrinterColumns:
    - jsonPath: .foo
      name: Foo
      type: string
    - jsonPath: .date
      name: Date
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    schema:
      openAPIV3Schema:
        type: object
        properties:
          foo:
            type: string
          date:
            type: string
    served: true
    storage: true
---
apiVersion: columns.cattle.io/v1
kind: NamespacedSomeColumn
metadata:
  name: bar
  namespace: "default"
foo: foo
date: "2025-11-20T13:30:18Z"
